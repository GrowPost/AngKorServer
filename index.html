<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<meta name="description" content="Growtopia Private Server with exciting gameplay and stable system.">
<meta name="theme-color" content="#10b981">
<title>AngkorPS</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

<!-- Favicon -->
<link rel="icon" type="image/png" href="assets/AngkorPS.png">
<link rel="apple-touch-icon" href="assets/AngkorPS.png">

<style>
/* RESET */
* {margin:0; padding:0; box-sizing:border-box;}
body {
  font-family: 'Inter', sans-serif;
  background: #0d1117;
  color: #e5e5e5;
  overflow-x: hidden;
}

/* LAYOUT */
.container {
  max-width: 900px;
  margin: auto;
  padding: 2rem 1rem;
}

.header {
  text-align: center;
  margin-bottom: 1rem;
  padding: 2rem 0;
}

.title {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: .6rem;
  font-size: 2.4rem;
  font-weight: 700;
  color: #10b981;
}

.title img {
  width: 38px;
  height: 38px;
  border-radius: 8px;
  object-fit: cover;
}

.subtitle {
  margin-top: .4rem;
  color: #b5b5b5;
  font-size: 0.95rem;
}

/* MINIMAL CARDS */
.status-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-bottom: 1.5rem;
}

.status-card {
  background: #11151c;
  padding: 18px;
  border-radius: 10px;
  border: 1px solid #1f242c;
  text-align: center;
}

.status-card h3 {
  font-size: 0.95rem;
  color: #b5b5b5;
  margin-bottom: 6px;
}

.status-card p {
  font-size: 1.4rem;
  font-weight: 700;
  color: #10b981;
}

/* SECTIONS */
.section {
  background: #11151c;
  padding: 1.6rem;
  border-radius: 12px;
  border: 1px solid #1f242c;
  margin-bottom: 1.4rem;
}

.section-title {
  display: flex;
  align-items: center;
  gap: .6rem;
  font-size: 1.1rem;
  font-weight: 600;
  color: #fff;
  margin-bottom: 1rem; /* ADDED: spacing under section titles */
}

.section-title i {
  color: #10b981;
}

/* BUTTONS */
.btn-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
  gap: .8rem;
}

.btn {
  padding: 12px;
  background: #1a1f26;
  border: 1px solid #222831;
  border-radius: 10px;
  color: #e5e5e5;
  font-weight: 500;
  font-size: .9rem;
  transition: .15s ease;
}

.btn:hover {
  background: #1e242c;
  border-color: #2c353f;
}

.btn-discord {
  background: #4654d4;
  border: none;
}

.btn-discord:hover {
  opacity: .85;
}

/* FOOTER */
.footer {
  text-align: center;
  padding: 2.5rem 0;
  color: #888;
  font-size: 0.9rem;
}

/* TOAST */
.toast {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%) translateY(40px);
  background: #10b981;
  color: #fff;
  padding: .8rem 1.4rem;
  border-radius: 10px;
  opacity: 0;
  transition: .4s ease;
  pointer-events: none;
  font-size: .9rem;
}
.toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0px);
}
.toast.error {
  background: #d9534f;
}
</style>

</head>
<body>

<header class="header">
  <h1 class="title">
    <img src="assets/AngkorPS.png">
    AngkorPS
  </h1>
  <p class="subtitle">Growtopia Private Server — stable, fast, and enjoyable gameplay.</p>
</header>

<div class="container">

<!-- STATUS CARDS -->
<div class="status-grid">
  <div class="status-card">
    <h3>Server Status</h3>
    <p id="serverStatus">Checking...</p>
  </div>
  <div class="status-card">
    <h3>Players Online</h3>
    <p id="playersCount">Loading...</p>
  </div>
</div>

<!-- LEADERBOARD -->
<section class="section">
  <div class="section-title"><i class="fas fa-trophy"></i> Leaderboard</div>
  <ul id="leaderboardList" style="list-style:none; padding-left:0; color:#e5e5e5; font-weight:500;"></ul>
</section>

<!-- HOST & DOWNLOAD -->
<section class="section">
  <div class="section-title"><i class="fas fa-server"></i> HOST & DOWNLOAD</div>
  <div class="btn-grid">
    <button class="btn" onclick="copyHost()">Copy IP</button>
    <button class="btn" onclick="downloadHost()">Download Host</button>
    <button class="btn" onclick="copyPowerTunnel()">PowerTunnel</button>
    <button class="btn" onclick="copyHostGoURL()">Host GO</button>
    <button class="btn" onclick="copyIOS()">iOS Host</button>
  </div>
</section>

<!-- DISCORD -->
<section class="section">
  <div class="section-title"><i class="fab fa-discord"></i> DISCORD</div>
  <div class="btn-grid">
    <button class="btn btn-discord" onclick="window.open('https://discord.gg/JrVquN9sgx')">Join</button>
  </div>
</section>

</div>

<footer class="footer">© <strong>AngkorPS</strong></footer>

<div id="toast" class="toast"></div>

<script>
function showToast(msg, type="success") {
  const t = document.getElementById("toast");
  t.textContent = msg;
  t.className = "toast " + (type === "error" ? "error" : "");
  t.classList.add("show");
  setTimeout(() => t.classList.remove("show"), 1800);
}

const HOST_IP_TEXT = `5.39.13.21 growtopia1.com
5.39.13.21 growtopia2.com
5.39.13.21 www.growtopia1.com
5.39.13.21 www.growtopia2.com`;

function copyText(text){
  navigator.clipboard.writeText(text)
  .then(()=>showToast("Copied"))
  .catch(()=>showToast("Failed","error"));
}

function copyHost(){ copyText(HOST_IP_TEXT); }
function copyPowerTunnel(){ copyText("https://angkorps.vercel.app/angkor.txt"); }
function copyHostGoURL(){ copyText("https://angkorps.vercel.app/angkor.host"); }
function copyIOS(){ copyText("https://angkorps.vercel.app/ios.txt"); }

function downloadHost(){
  const blob = new Blob([HOST_IP_TEXT], {type:"text/plain"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "angkor.host";
  a.click();
  URL.revokeObjectURL(url);
  showToast("Downloaded!");
}

/* SERVER STATUS & LEADERBOARD */
async function updateServer(){
  try{
    const res = await fetch("https://angkorps.vercel.app/api/ping");
    const data = await res.json();

    document.getElementById("serverStatus").textContent =
      data.serverStatus === "online" ? "ONLINE" : "OFFLINE";
    document.getElementById("serverStatus").style.color =
      data.serverStatus === "online" ? "#10b981" : "red";

    document.getElementById("playersCount").textContent =
      data.onlinePlayersCount ?? 0;

    // Leaderboard
    const leaderboard = document.getElementById("leaderboardList");
    leaderboard.innerHTML = "";
    if(data.leaderboard && data.leaderboard.length){
      data.leaderboard.forEach((player)=>{
        const li = document.createElement("li");
        li.textContent = player;
        leaderboard.appendChild(li);
      });
    } else {
      const li = document.createElement("li");
      li.textContent = "No players found.";
      leaderboard.appendChild(li);
    }

  } catch {
    document.getElementById("serverStatus").textContent = "OFFLINE";
    document.getElementById("serverStatus").style.color = "red";
    document.getElementById("playersCount").textContent = 0;
  }
}

updateServer();
setInterval(updateServer,5000);
</script>

</body>
</html>
