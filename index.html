<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<meta name="description" content="Growtopia Private Server with exciting gameplay and stable system.">
<meta name="theme-color" content="#10b981">
<title>AngkorPS</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

<!-- Favicon -->
<link rel="icon" type="image/png" href="assets/AngkorPS.png">
<link rel="apple-touch-icon" href="assets/AngkorPS.png">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:'Inter',sans-serif;
  background:#0d1117;
  color:#e5e5e5;
  min-height:100vh;
  padding-bottom:40px;
}

/* Top Section */
.header{
  text-align:center;
  padding:40px 0 20px 0;
}
.app-icon{
  width:110px;
  height:110px;
  border-radius:20px;
  box-shadow:0 8px 22px rgba(0,0,0,0.4);
}
.main-title{
  margin-top:16px;
  font-size:2rem;
  font-weight:700;
  color:white;
}

/* Premium Status Card */
.status-card {
  width:90%;
  max-width:420px;
  margin:0 auto 28px auto;
  padding:24px 22px;

  background:#111418;
  border:1px solid rgba(255,255,255,0.04);
  border-radius:18px;

  box-shadow:0 8px 20px rgba(0,0,0,0.45);
  text-align:left;

  display:flex;
  flex-direction:column;
  gap:14px;
}

.status-header {
  display:flex;
  align-items:center;
  gap:10px;
  font-size:1.05rem;
  font-weight:600;
  color:white;
}

.status-header i {
  color:#10b981;
  font-size:1.2rem;
}

.status-line {
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.status-line .label {
  color:#9ea2a8;
  font-size:0.95rem;
}

.status-line .value {
  color:white;
  font-weight:600;
  font-size:0.95rem;
}

/* Section Container */
.container{
  max-width:900px;
  margin:0 auto;
  padding:0 1rem;
}

/* Sections */
.section{
  background:#111418;
  border:1px solid rgba(255,255,255,0.04);
  border-radius:18px;
  padding:24px;
  margin-bottom:20px;
  box-shadow:0 8px 20px rgba(0,0,0,0.45);
}

.section-title{
  font-size:1.1rem;
  font-weight:600;
  color:white;
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:18px;
}
.section-title i{
  color:#10b981;
}

/* Buttons */
.btn-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(170px,1fr));
  gap:14px;
}

.btn{
  padding:13px;
  background:#1a1f25;
  border:1px solid rgba(255,255,255,0.05);
  border-radius:12px;
  color:white;
  font-size:0.9rem;
  font-weight:600;
  cursor:pointer;
  transition:.2s ease;
}
.btn:hover{background:#222831;}

.btn-discord{
  background:#5865F2;
}
.btn-discord:hover{
  background:#6572ff;
}

/* Footer */
.footer{
  margin-top:25px;
  text-align:center;
  color:#aaa;
  font-size:0.9rem;
}

/* Toast */
.toast{
  position:fixed;
  bottom:30px;
  left:50%;
  transform:translateX(-50%) translateY(100px);
  background:#1a1f25;
  border:1px solid rgba(255,255,255,0.08);
  color:white;
  padding:0.85rem 1.4rem;
  border-radius:12px;
  font-size:0.9rem;
  display:flex;
  align-items:center;
  gap:8px;
  box-shadow:0 6px 18px rgba(0,0,0,0.4);
  opacity:0;
  pointer-events:none;
  transition:.45s ease;
  z-index:9999;
}
.toast.show{
  opacity:1;
  transform:translateX(-50%) translateY(0);
}
.toast i{
  color:#10b981;
}
.toast.error i{
  color:#ff4d4d;
}
</style>
</head>

<body>

<header class="header">
  <img src="assets/AngkorPS.png" class="app-icon">
  <h1 class="main-title">AngkorPS</h1>
</header>

<div id="server-status" class="status-card">
  <div class="status-header">
    <i class="fas fa-server"></i>
    <span>Server Status</span>
  </div>

  <div class="status-line">
    <span class="label">Status:</span>
    <span id="server-indicator" class="value">Checking...</span>
  </div>

  <div class="status-line">
    <span class="label">Players Online:</span>
    <span id="online-count" class="value">0</span>
  </div>
</div>

<div class="container">

<section class="section">
  <div class="section-title"><i class="fas fa-server"></i> HOST & DOWNLOAD</div>
  <div class="btn-grid">
    <button class="btn" onclick="copyHost()">Copy IP</button>
    <button class="btn" onclick="downloadHost()">Download Host</button>
    <button class="btn" onclick="copyPowerTunnel()">PowerTunnel URL</button>
    <button class="btn" onclick="copyHostGoURL()">Host GO URL</button>
    <button class="btn btn-full" onclick="copyIOS()">iOS Host</button>
  </div>
</section>

<section class="section">
  <div class="section-title"><i class="fab fa-discord"></i> DISCORD</div>
  <div class="btn-grid">
    <button class="btn btn-discord" onclick="window.open('https://discord.gg/JrVquN9sgx','_blank')">Join</button>
  </div>
</section>

<section class="section">
  <div class="section-title"><i class="fas fa-bolt"></i> UPDATE</div>
  <p style="color:#888;font-size:0.9rem;">Coming Soon!</p>
</section>

</div>

<footer class="footer">
  Â© AngkorPS
</footer>

<div id="toast" class="toast"><i class="fas fa-check-circle"></i><span></span></div>

<script>
const HOST_IP_TEXT = `5.39.13.21 growtopia1.com
5.39.13.21 growtopia2.com
5.39.13.21 www.growtopia1.com
5.39.13.21 www.growtopia2.com`;

const PT_URL = "https://angkorps.vercel.app/angkor.txt";
const HOST_GO_URL = "https://angkorps.vercel.app/angkor.host";
const IOS_HOST = "https://angkorps.vercel.app/ios.txt";

function showToast(message, type="success"){
  const toast=document.getElementById("toast");
  const icon=toast.querySelector("i");
  const text=toast.querySelector("span");
  text.textContent=message;
  if(type==="success"){
    toast.classList.remove("error");
    icon.className="fas fa-check-circle";
  }else{
    toast.classList.add("error");
    icon.className="fas fa-times-circle";
  }
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"),1800);
}

function copyText(content){
  navigator.clipboard.writeText(content)
    .then(()=>showToast("Copied"))
    .catch(()=>showToast("Failed","error"));
}

function copyHost(){ copyText(HOST_IP_TEXT); }
function copyPowerTunnel(){ copyText(PT_URL); }
function copyHostGoURL(){ copyText(HOST_GO_URL); }
function copyIOS(){ copyText(IOS_HOST); }

function downloadHost(){
  const blob=new Blob([HOST_IP_TEXT],{type:"text/plain"});
  const url=URL.createObjectURL(blob);
  const a=document.createElement("a");
  a.href=url;
  a.download="angkor.host";
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
  showToast("Downloaded!");
}

const indicator=document.getElementById("server-indicator");
const onlineCount=document.getElementById("online-count");

async function updateServer(){
  try{
    const res=await fetch("https://angkorps.vercel.app/api/ping");
    const data=await res.json();
    if(data.serverStatus.toLowerCase()==="online"){
      indicator.textContent="ONLINE";
      indicator.style.color="#10b981";
      onlineCount.textContent=data.onlinePlayersCount;
    }else{
      indicator.textContent="OFFLINE";
      indicator.style.color="red";
      onlineCount.textContent=0;
    }
  }catch{
    indicator.textContent="OFFLINE";
    indicator.style.color="red";
    onlineCount.textContent=0;
  }
}

updateServer();
setInterval(updateServer,5000);
</script>

</body>
</html>
